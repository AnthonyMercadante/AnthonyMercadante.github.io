{"ast":null,"code":"var _jsxFileName = \"A:\\\\Projects\\\\AnthonyMercadante.github.io\\\\src\\\\components\\\\RealEstateBot\\\\RealEstateBot.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Box, Typography, useTheme } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { dark } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport { IconButton, Tooltip } from '@mui/material';\nimport DescriptionIcon from '@mui/icons-material/Description';\nimport GetAppIcon from '@mui/icons-material/GetApp';\nimport CodeIcon from '@mui/icons-material/Code';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RealEstateBot = () => {\n  _s();\n  const navigate = useNavigate();\n  const theme = useTheme();\n  const [showCode, setShowCode] = useState(false);\n\n  // Function to toggle code visibility\n  const toggleCodeVisibility = () => {\n    setShowCode(!showCode);\n  };\n\n  // State for core_bot.py\n  const [showCoreBotCode, setShowCoreBotCode] = useState(false);\n\n  // State for discord_real_estate_bot.py\n  const [showDiscordBotCode, setShowDiscordBotCode] = useState(false);\n\n  // State for terminal_bot.py\n  const [showTerminalBotCode, setShowTerminalBotCode] = useState(false);\n\n  // State for readme.txt\n  const [showReadme, setShowReadme] = useState(false);\n  const core_bot_code = `\n    \"\"\"\n    core_bot.py\n    Created by Anthony Mercadante\n    Date: November 2023\n    \"\"\"\n    \n    from openai import OpenAI\n    import os\n    import spacy\n    from sklearn.feature_extraction.text import CountVectorizer\n    \n    # Initialize the OpenAI client with the API key from environment variables\n    client = OpenAI(api_key=os.environ['OPENAI_API_KEY'])\n    \n    # Load the spaCy language model\n    nlp = spacy.load(\"en_core_web_sm\")\n    \n    # Global variable to maintain the conversation history\n    conversation_history = []\n    \n    def analyze_word_frequency(utterance):\n        \"\"\"\n        Analyzes the frequency of words in the given utterance.\n    \n        Args:\n            utterance (str): The user's input message.\n    \n        Returns:\n            dict: A dictionary of word frequencies.\n        \"\"\"\n        doc = nlp(utterance)\n        vectorizer = CountVectorizer()\n        vectorized_words = vectorizer.fit_transform([utterance])\n        word_freq = dict(zip(vectorizer.get_feature_names_out(), vectorized_words.toarray().tolist()[0]))\n        return word_freq\n    \n    def classify_utterance(utterance):\n        \"\"\"\n        Classifies the given utterance into categories like emotional tone or speech act.\n        Placeholder function - actual implementation required.\n    \n        Args:\n            utterance (str): The user's input message.\n    \n        Returns:\n            str: The classified category of the utterance.\n        \"\"\"\n        # Placeholder: Implement a classifier or use an existing model\n        return \"general_inquiry\"\n    \n    def ask_openai(utterance):\n        \"\"\"\n        Processes the given user utterance and generates a response using OpenAI's API.\n    \n        Args:\n            utterance (str): The user's input message.\n    \n        Returns:\n            str: The generated response from the bot.\n        \"\"\"\n        global conversation_history\n        # Analyze word frequency and classify utterance\n        word_freq = analyze_word_frequency(utterance)\n        utterance_category = classify_utterance(utterance)\n    \n        # Append the user's utterance and additional info to the conversation history\n        conversation_history.append({\"role\": \"user\", \"content\": utterance, \"word_freq\": word_freq, \"category\": utterance_category})\n    \n        try:\n            # Construct a prompt for the completion model\n            prompt = create_completion_prompt(utterance)\n            # Set a maximum token limit for the prompt\n            max_prompt_tokens = 500\n            prompt_length = len(prompt.split())\n            remaining_tokens = max(20, max_prompt_tokens - prompt_length)\n    \n            # Make a call to the completion model\n            response_completion = client.completions.create(\n                model=\"text-davinci-003\",\n                prompt=prompt,\n                temperature=0.7,\n                max_tokens=remaining_tokens\n            )\n            # Extract and clean the response\n            completion_response = response_completion.choices[0].text.strip()\n            # Append the response to the conversation history\n            conversation_history.append({\"role\": \"assistant\", \"content\": completion_response})\n        except Exception as e:\n            # Handle exceptions and return the error message\n            completion_response = f\"An error occurred: {str(e)}\"\n    \n        try:\n            # Make a call to the chat model\n            response_chat = client.chat.completions.create(\n                model=\"gpt-3.5-turbo\",\n                max_tokens=remaining_tokens,\n                messages=create_chat_messages_for_api()\n            )\n            # Extract and clean the chat model response\n            chat_response = response_chat.choices[0].message.content.strip()\n            # Append the response to the conversation history\n            conversation_history.append({\"role\": \"assistant\", \"content\": chat_response})\n        except Exception as e:\n            # Handle exceptions and return the error message\n            chat_response = f\"An error occurred: {str(e)}\"\n    \n        # Decide which response to return\n        return decide_response(completion_response, chat_response)\n    \n    def create_completion_prompt(utterance):\n        \"\"\"\n        Creates a completion prompt with a predefined context for the OpenAI model.\n    \n        Args:\n            utterance (str): The user's input message.\n    \n        Returns:\n            str: The constructed prompt for the OpenAI model.\n        \"\"\"\n        # Predefined context for the AI model\n        introduction = (\n            \"You are an expert real estate agent well-versed in the Toronto and Ontario housing market. \"\n            \"You have comprehensive knowledge of local real estate laws, regulations, market trends, \"\n            \"property valuations, and lending practices. You provide detailed, accurate, and up-to-date information. \"\n            \"Your responses are professional and adhere to the current legal and market standards.\"\n        )\n        # Combine the context with the user's question\n        prompt = introduction + f\"Question: {utterance}Response:\"\n        return prompt\n    \n    def create_chat_messages_for_api():\n        \"\"\"\n        Formats the conversation history for the chat model API call.\n    \n        Returns:\n            list: A list of messages formatted for the chat model, excluding 'category' and 'word_freq'.\n        \"\"\"\n        formatted_history = []\n        for message in conversation_history:\n            formatted_message = {\"role\": message[\"role\"], \"content\": message[\"content\"]}\n            formatted_history.append(formatted_message)\n        \n        return formatted_history\n    \n    def decide_response(completion_response, chat_response):\n        \"\"\"\n        Decides which response to use based on relevance and redundancy checks.\n    \n        Args:\n            completion_response (str): The response from the completion model.\n            chat_response (str): The response from the chat model.\n    \n        Returns:\n            str: The chosen response after evaluation.\n        \"\"\"\n        # Evaluate and return the most appropriate response\n        if is_response_relevant(completion_response) and not is_response_relevant(chat_response):\n            return completion_response\n        elif is_response_relevant(chat_response) and not is_response_relevant(completion_response):\n            return chat_response\n        elif is_response_redundant(completion_response, chat_response):\n            return completion_response\n        else:\n            return f\"Response 1: {completion_response}Response 2: {chat_response}\"\n    \n    def is_response_relevant(response):\n        \"\"\"\n        Checks if the given response is relevant based on predefined criteria.\n    \n        Args:\n            response (str): The response to evaluate.\n    \n        Returns:\n            bool: True if the response is relevant, False otherwise.\n        \"\"\"\n        important_keywords = set([\"real estate\", \"market\", \"property\", \"Toronto\", \"Ontario\", \"laws\", \"regulations\", \"lending\"])\n        response_lower = response.lower()\n        for keyword in important_keywords:\n            if keyword in response_lower:\n                return True\n        min_length, max_length = 20, 300\n        if len(response) < min_length or len(response) > max_length:\n            return False\n        return True\n    \n    def is_response_redundant(response1, response2):\n        \"\"\"\n        Checks if two responses are redundant to each other.\n    \n        Args:\n            response1 (str): The first response.\n            response2 (str): The second response.\n    \n        Returns:\n            bool: True if the responses are redundant, False otherwise.\n        \"\"\"\n        words1 = set(response1.lower().split())\n        words2 = set(response2.lower().split())\n        common_words = words1.intersection(words2)\n        threshold = 0.5\n        redundancy_ratio = len(common_words) / min(len(words1), len(words2))\n        return redundancy_ratio > threshold`;\n  const customStyle = {\n    ...dark,\n    backgroundColor: '#newBackgroundColor' // Replace with your desired color\n    // other styles...\n  };\n  const style = {\n    container: {\n      padding: theme.spacing(3),\n      color: theme.palette.common.white,\n      backgroundColor: theme.palette.background.default,\n      minHeight: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      maxWidth: '600px',\n      // Set max width to 600px\n      marginLeft: 'auto',\n      // Center the container\n      marginRight: 'auto',\n      [theme.breakpoints.down('md')]: {\n        // Adjust for medium and smaller devices\n        maxWidth: '100%',\n        padding: theme.spacing(2)\n      }\n    },\n    header: {\n      marginBottom: theme.spacing(2)\n    },\n    paragraph: {\n      marginBottom: theme.spacing(1),\n      textAlign: 'left' // Align text to the left\n    },\n    featureBox: {\n      marginTop: theme.spacing(4),\n      textAlign: 'left'\n    },\n    featureHeading: {\n      marginBottom: theme.spacing(1)\n    },\n    motivationBox: {\n      marginTop: theme.spacing(4),\n      textAlign: 'left'\n    },\n    codeBox: {\n      marginTop: theme.spacing(4),\n      backgroundColor: '#1e1e1e',\n      padding: theme.spacing(2),\n      borderRadius: theme.shape.borderRadius,\n      boxShadow: theme.shadows[1],\n      overflowX: 'auto',\n      color: '#f8f8f2',\n      // Adjust the text color if needed\n      [theme.breakpoints.down('sm')]: {\n        // Adjust for small devices\n        fontSize: '0.8em',\n        // Smaller font size for small devices\n        width: '100%'\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: style.container,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h2\",\n      sx: style.header,\n      children: \"Real Estate AI Bot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      sx: style.paragraph,\n      children: \"This script is the backbone of a Real Estate Assistant Discord Bot, leveraging OpenAI's GPT models for handling real estate inquiries, particularly within the Toronto and Ontario markets. It's adept at maintaining conversation histories to ensure contextually aware interactions, while also utilizing advanced techniques like word frequency analysis and emotional tone classification to understand and respond to user queries effectively.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      sx: style.paragraph,\n      children: \"Furthermore, the script is intricately designed to craft detailed prompts for the OpenAI API, ensuring each response is tailored and relevant. Its sophisticated logic not only manages dialogue history but also evaluates the relevance and redundancy of potential responses. This seamless integration with a Discord bot client allows for dynamic interactions in a server environment, enhancing user engagement.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: style.featureBox,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: style.featureHeading,\n        children: \"Key Features:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"Utilizes OpenAI's powerful language models to answer real estate-related queries.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"Analyzes word frequency vectors for better understanding of queries.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"Classifies utterances based on emotional tone or speech act.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"Maintains conversation context for more coherent and relevant interactions.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"Employs two distinct models (completion and chat) for varied response generation.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"Implements relevance and redundancy checks to optimize response quality.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: style.motivationBox,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: style.featureHeading,\n        children: \"Project Motivation:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: \"This bot was created as an experiment to see if it's possible to replace the need for a traditional real estate agent with a bot trained on the right data. The goal is to provide instant, accurate, and personalized real estate advice using advanced AI technology.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: style.motivationBox,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: style.featureHeading,\n        children: \"Discord Integration: Streamlining Development\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: \"To enhance the development of the RealEstate AI Bot, I integrated it with Discord. This decision significantly accelerated the initial setup by eliminating the need to create a custom GUI. Utilizing Discord's existing chat interface allowed for immediate and efficient interaction with the bot, saving considerable time and focusing on its core functionalities.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: style.featureBox,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: style.featureHeading,\n        children: \"Dependencies:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"OpenAI Python client library\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"Python 3.6 or higher\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"Discord.py library for Discord bot integration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"spaCy for NLP tasks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"sklearn for machine learning tasks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Download Zip\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: downloadZip // Implement this function to handle download\n        ,\n        style: buttonStyle,\n        children: [/*#__PURE__*/_jsxDEV(GetAppIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"button\",\n          style: {\n            marginLeft: '5px'\n          },\n          children: \"Download Zip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: showCode ? \"Hide code\" : \"View core_bot.py\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: toggleCodeVisibility,\n        style: buttonStyle,\n        children: [/*#__PURE__*/_jsxDEV(CodeIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"button\",\n          style: {\n            marginLeft: '5px'\n          },\n          children: [showCode ? 'Hide' : 'View', \" core_bot.py\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: showDiscordBotCode ? \"Hide code\" : \"View discord_real_estate_bot.py\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: toggleDiscordBotCodeVisibility,\n        style: buttonStyle,\n        children: [/*#__PURE__*/_jsxDEV(CodeIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"button\",\n          style: {\n            marginLeft: '5px'\n          },\n          children: [showDiscordBotCode ? 'Hide' : 'View', \" discord_real_estate_bot.py\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: showTerminalBotCode ? \"Hide code\" : \"View terminal_bot.py\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: toggleTerminalBotCodeVisibility,\n        style: buttonStyle,\n        children: [/*#__PURE__*/_jsxDEV(CodeIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"button\",\n          style: {\n            marginLeft: '5px'\n          },\n          children: [showTerminalBotCode ? 'Hide' : 'View', \" terminal_bot.py\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: showReadme ? \"Hide\" : \"View readme.txt\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: toggleReadmeVisibility,\n        style: buttonStyle,\n        children: [/*#__PURE__*/_jsxDEV(DescriptionIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"button\",\n          style: {\n            marginLeft: '5px'\n          },\n          children: [showReadme ? 'Hide' : 'View', \" readme.txt\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 9\n  }, this);\n};\n_s(RealEstateBot, \"dRsAEYXY7J6qarQnui5WpvihgRY=\", false, function () {\n  return [useNavigate, useTheme];\n});\n_c = RealEstateBot;\nexport default RealEstateBot;\nvar _c;\n$RefreshReg$(_c, \"RealEstateBot\");","map":{"version":3,"names":["React","useState","Box","Typography","useTheme","useNavigate","dark","IconButton","Tooltip","DescriptionIcon","GetAppIcon","CodeIcon","jsxDEV","_jsxDEV","RealEstateBot","_s","navigate","theme","showCode","setShowCode","toggleCodeVisibility","showCoreBotCode","setShowCoreBotCode","showDiscordBotCode","setShowDiscordBotCode","showTerminalBotCode","setShowTerminalBotCode","showReadme","setShowReadme","core_bot_code","customStyle","backgroundColor","style","container","padding","spacing","color","palette","common","white","background","default","minHeight","display","flexDirection","alignItems","justifyContent","maxWidth","marginLeft","marginRight","breakpoints","down","header","marginBottom","paragraph","textAlign","featureBox","marginTop","featureHeading","motivationBox","codeBox","borderRadius","shape","boxShadow","shadows","overflowX","fontSize","width","sx","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","title","onClick","downloadZip","buttonStyle","toggleDiscordBotCodeVisibility","toggleTerminalBotCodeVisibility","toggleReadmeVisibility","_c","$RefreshReg$"],"sources":["A:/Projects/AnthonyMercadante.github.io/src/components/RealEstateBot/RealEstateBot.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Box, Button, Typography, useTheme } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport { dark } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\nimport { IconButton, Tooltip } from '@mui/material';\r\nimport DescriptionIcon from '@mui/icons-material/Description';\r\nimport GetAppIcon from '@mui/icons-material/GetApp'; \r\nimport CodeIcon from '@mui/icons-material/Code'; \r\n\r\n\r\n\r\nconst RealEstateBot = () => {\r\n    const navigate = useNavigate();\r\n    const theme = useTheme();\r\n\r\n    const [showCode, setShowCode] = useState(false);\r\n\r\n    // Function to toggle code visibility\r\n    const toggleCodeVisibility = () => {\r\n        setShowCode(!showCode);\r\n    };\r\n\r\n    // State for core_bot.py\r\n    const [showCoreBotCode, setShowCoreBotCode] = useState(false);\r\n\r\n    // State for discord_real_estate_bot.py\r\n    const [showDiscordBotCode, setShowDiscordBotCode] = useState(false);\r\n\r\n    // State for terminal_bot.py\r\n    const [showTerminalBotCode, setShowTerminalBotCode] = useState(false);\r\n\r\n    // State for readme.txt\r\n    const [showReadme, setShowReadme] = useState(false);\r\n\r\n    const core_bot_code = `\r\n    \"\"\"\r\n    core_bot.py\r\n    Created by Anthony Mercadante\r\n    Date: November 2023\r\n    \"\"\"\r\n    \r\n    from openai import OpenAI\r\n    import os\r\n    import spacy\r\n    from sklearn.feature_extraction.text import CountVectorizer\r\n    \r\n    # Initialize the OpenAI client with the API key from environment variables\r\n    client = OpenAI(api_key=os.environ['OPENAI_API_KEY'])\r\n    \r\n    # Load the spaCy language model\r\n    nlp = spacy.load(\"en_core_web_sm\")\r\n    \r\n    # Global variable to maintain the conversation history\r\n    conversation_history = []\r\n    \r\n    def analyze_word_frequency(utterance):\r\n        \"\"\"\r\n        Analyzes the frequency of words in the given utterance.\r\n    \r\n        Args:\r\n            utterance (str): The user's input message.\r\n    \r\n        Returns:\r\n            dict: A dictionary of word frequencies.\r\n        \"\"\"\r\n        doc = nlp(utterance)\r\n        vectorizer = CountVectorizer()\r\n        vectorized_words = vectorizer.fit_transform([utterance])\r\n        word_freq = dict(zip(vectorizer.get_feature_names_out(), vectorized_words.toarray().tolist()[0]))\r\n        return word_freq\r\n    \r\n    def classify_utterance(utterance):\r\n        \"\"\"\r\n        Classifies the given utterance into categories like emotional tone or speech act.\r\n        Placeholder function - actual implementation required.\r\n    \r\n        Args:\r\n            utterance (str): The user's input message.\r\n    \r\n        Returns:\r\n            str: The classified category of the utterance.\r\n        \"\"\"\r\n        # Placeholder: Implement a classifier or use an existing model\r\n        return \"general_inquiry\"\r\n    \r\n    def ask_openai(utterance):\r\n        \"\"\"\r\n        Processes the given user utterance and generates a response using OpenAI's API.\r\n    \r\n        Args:\r\n            utterance (str): The user's input message.\r\n    \r\n        Returns:\r\n            str: The generated response from the bot.\r\n        \"\"\"\r\n        global conversation_history\r\n        # Analyze word frequency and classify utterance\r\n        word_freq = analyze_word_frequency(utterance)\r\n        utterance_category = classify_utterance(utterance)\r\n    \r\n        # Append the user's utterance and additional info to the conversation history\r\n        conversation_history.append({\"role\": \"user\", \"content\": utterance, \"word_freq\": word_freq, \"category\": utterance_category})\r\n    \r\n        try:\r\n            # Construct a prompt for the completion model\r\n            prompt = create_completion_prompt(utterance)\r\n            # Set a maximum token limit for the prompt\r\n            max_prompt_tokens = 500\r\n            prompt_length = len(prompt.split())\r\n            remaining_tokens = max(20, max_prompt_tokens - prompt_length)\r\n    \r\n            # Make a call to the completion model\r\n            response_completion = client.completions.create(\r\n                model=\"text-davinci-003\",\r\n                prompt=prompt,\r\n                temperature=0.7,\r\n                max_tokens=remaining_tokens\r\n            )\r\n            # Extract and clean the response\r\n            completion_response = response_completion.choices[0].text.strip()\r\n            # Append the response to the conversation history\r\n            conversation_history.append({\"role\": \"assistant\", \"content\": completion_response})\r\n        except Exception as e:\r\n            # Handle exceptions and return the error message\r\n            completion_response = f\"An error occurred: {str(e)}\"\r\n    \r\n        try:\r\n            # Make a call to the chat model\r\n            response_chat = client.chat.completions.create(\r\n                model=\"gpt-3.5-turbo\",\r\n                max_tokens=remaining_tokens,\r\n                messages=create_chat_messages_for_api()\r\n            )\r\n            # Extract and clean the chat model response\r\n            chat_response = response_chat.choices[0].message.content.strip()\r\n            # Append the response to the conversation history\r\n            conversation_history.append({\"role\": \"assistant\", \"content\": chat_response})\r\n        except Exception as e:\r\n            # Handle exceptions and return the error message\r\n            chat_response = f\"An error occurred: {str(e)}\"\r\n    \r\n        # Decide which response to return\r\n        return decide_response(completion_response, chat_response)\r\n    \r\n    def create_completion_prompt(utterance):\r\n        \"\"\"\r\n        Creates a completion prompt with a predefined context for the OpenAI model.\r\n    \r\n        Args:\r\n            utterance (str): The user's input message.\r\n    \r\n        Returns:\r\n            str: The constructed prompt for the OpenAI model.\r\n        \"\"\"\r\n        # Predefined context for the AI model\r\n        introduction = (\r\n            \"You are an expert real estate agent well-versed in the Toronto and Ontario housing market. \"\r\n            \"You have comprehensive knowledge of local real estate laws, regulations, market trends, \"\r\n            \"property valuations, and lending practices. You provide detailed, accurate, and up-to-date information. \"\r\n            \"Your responses are professional and adhere to the current legal and market standards.\"\r\n        )\r\n        # Combine the context with the user's question\r\n        prompt = introduction + f\"Question: {utterance}Response:\"\r\n        return prompt\r\n    \r\n    def create_chat_messages_for_api():\r\n        \"\"\"\r\n        Formats the conversation history for the chat model API call.\r\n    \r\n        Returns:\r\n            list: A list of messages formatted for the chat model, excluding 'category' and 'word_freq'.\r\n        \"\"\"\r\n        formatted_history = []\r\n        for message in conversation_history:\r\n            formatted_message = {\"role\": message[\"role\"], \"content\": message[\"content\"]}\r\n            formatted_history.append(formatted_message)\r\n        \r\n        return formatted_history\r\n    \r\n    def decide_response(completion_response, chat_response):\r\n        \"\"\"\r\n        Decides which response to use based on relevance and redundancy checks.\r\n    \r\n        Args:\r\n            completion_response (str): The response from the completion model.\r\n            chat_response (str): The response from the chat model.\r\n    \r\n        Returns:\r\n            str: The chosen response after evaluation.\r\n        \"\"\"\r\n        # Evaluate and return the most appropriate response\r\n        if is_response_relevant(completion_response) and not is_response_relevant(chat_response):\r\n            return completion_response\r\n        elif is_response_relevant(chat_response) and not is_response_relevant(completion_response):\r\n            return chat_response\r\n        elif is_response_redundant(completion_response, chat_response):\r\n            return completion_response\r\n        else:\r\n            return f\"Response 1: {completion_response}Response 2: {chat_response}\"\r\n    \r\n    def is_response_relevant(response):\r\n        \"\"\"\r\n        Checks if the given response is relevant based on predefined criteria.\r\n    \r\n        Args:\r\n            response (str): The response to evaluate.\r\n    \r\n        Returns:\r\n            bool: True if the response is relevant, False otherwise.\r\n        \"\"\"\r\n        important_keywords = set([\"real estate\", \"market\", \"property\", \"Toronto\", \"Ontario\", \"laws\", \"regulations\", \"lending\"])\r\n        response_lower = response.lower()\r\n        for keyword in important_keywords:\r\n            if keyword in response_lower:\r\n                return True\r\n        min_length, max_length = 20, 300\r\n        if len(response) < min_length or len(response) > max_length:\r\n            return False\r\n        return True\r\n    \r\n    def is_response_redundant(response1, response2):\r\n        \"\"\"\r\n        Checks if two responses are redundant to each other.\r\n    \r\n        Args:\r\n            response1 (str): The first response.\r\n            response2 (str): The second response.\r\n    \r\n        Returns:\r\n            bool: True if the responses are redundant, False otherwise.\r\n        \"\"\"\r\n        words1 = set(response1.lower().split())\r\n        words2 = set(response2.lower().split())\r\n        common_words = words1.intersection(words2)\r\n        threshold = 0.5\r\n        redundancy_ratio = len(common_words) / min(len(words1), len(words2))\r\n        return redundancy_ratio > threshold`;\r\n\r\n        const customStyle = {\r\n            ...dark,\r\n            backgroundColor: '#newBackgroundColor', // Replace with your desired color\r\n            // other styles...\r\n        };\r\n\r\n    const style = {\r\n        container: {\r\n            padding: theme.spacing(3),\r\n            color: theme.palette.common.white,\r\n            backgroundColor: theme.palette.background.default,\r\n            minHeight: '100vh',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            maxWidth: '600px', // Set max width to 600px\r\n            marginLeft: 'auto', // Center the container\r\n            marginRight: 'auto',\r\n            [theme.breakpoints.down('md')]: { // Adjust for medium and smaller devices\r\n                maxWidth: '100%',\r\n                padding: theme.spacing(2),\r\n            },\r\n        },\r\n        header: {\r\n            marginBottom: theme.spacing(2),\r\n        },\r\n        paragraph: {\r\n            marginBottom: theme.spacing(1),\r\n            textAlign: 'left', // Align text to the left\r\n        },\r\n        featureBox: {\r\n            marginTop: theme.spacing(4),\r\n            textAlign: 'left',\r\n        },\r\n        featureHeading: {\r\n            marginBottom: theme.spacing(1),\r\n        },\r\n        motivationBox: {\r\n            marginTop: theme.spacing(4),\r\n            textAlign: 'left',\r\n        },\r\n        codeBox: {\r\n            marginTop: theme.spacing(4),\r\n            backgroundColor: '#1e1e1e', \r\n            padding: theme.spacing(2),\r\n            borderRadius: theme.shape.borderRadius,\r\n            boxShadow: theme.shadows[1],\r\n            overflowX: 'auto',\r\n            color: '#f8f8f2', // Adjust the text color if needed\r\n            [theme.breakpoints.down('sm')]: { // Adjust for small devices\r\n                fontSize: '0.8em', // Smaller font size for small devices\r\n                width: '100%'\r\n            },\r\n            \r\n        },\r\n    };\r\n\r\n    return (\r\n        <Box sx={style.container}>\r\n            <Typography variant=\"h2\" sx={style.header}>Real Estate AI Bot</Typography>\r\n            \r\n            <Typography variant=\"body1\" sx={style.paragraph}>\r\n                This script is the backbone of a Real Estate Assistant Discord Bot, leveraging OpenAI's GPT models for handling real estate inquiries, particularly within the Toronto and Ontario markets. It's adept at maintaining conversation histories to ensure contextually aware interactions, while also utilizing advanced techniques like word frequency analysis and emotional tone classification to understand and respond to user queries effectively.\r\n            </Typography>\r\n\r\n            <Typography variant=\"body1\" sx={style.paragraph}>\r\n                Furthermore, the script is intricately designed to craft detailed prompts for the OpenAI API, ensuring each response is tailored and relevant. Its sophisticated logic not only manages dialogue history but also evaluates the relevance and redundancy of potential responses. This seamless integration with a Discord bot client allows for dynamic interactions in a server environment, enhancing user engagement.\r\n            </Typography>\r\n\r\n\r\n            <Box sx={style.featureBox}>\r\n                <Typography variant=\"h4\" sx={style.featureHeading}>Key Features:</Typography>\r\n                <ul>\r\n                    <li><Typography variant=\"body1\">Utilizes OpenAI's powerful language models to answer real estate-related queries.</Typography></li>\r\n                    <li><Typography variant=\"body1\">Analyzes word frequency vectors for better understanding of queries.</Typography></li>\r\n                    <li><Typography variant=\"body1\">Classifies utterances based on emotional tone or speech act.</Typography></li>\r\n                    <li><Typography variant=\"body1\">Maintains conversation context for more coherent and relevant interactions.</Typography></li>\r\n                    <li><Typography variant=\"body1\">Employs two distinct models (completion and chat) for varied response generation.</Typography></li>\r\n                    <li><Typography variant=\"body1\">Implements relevance and redundancy checks to optimize response quality.</Typography></li>\r\n                </ul>\r\n            </Box>\r\n\r\n            <Box sx={style.motivationBox}>\r\n                <Typography variant=\"h4\" sx={style.featureHeading}>Project Motivation:</Typography>\r\n                <Typography variant=\"body1\">\r\n                    This bot was created as an experiment to see if it's possible to replace the need for a traditional real estate agent with a bot trained on the right data. The goal is to provide instant, accurate, and personalized real estate advice using advanced AI technology.\r\n                </Typography>\r\n            </Box>\r\n\r\n            <Box sx={style.motivationBox}>\r\n                <Typography variant=\"h4\" sx={style.featureHeading}>Discord Integration: Streamlining Development</Typography>\r\n                <Typography variant=\"body1\">\r\n                To enhance the development of the RealEstate AI Bot, I integrated it with Discord. This decision significantly accelerated the initial setup by eliminating the need to create a custom GUI. Utilizing Discord's existing chat interface allowed for immediate and efficient interaction with the bot, saving considerable time and focusing on its core functionalities.\r\n                </Typography>\r\n            </Box>\r\n\r\n\r\n\r\n            <Box sx={style.featureBox}>\r\n                <Typography variant=\"h4\" sx={style.featureHeading}>Dependencies:</Typography>\r\n                <ul>\r\n                    <li><Typography variant=\"body1\">OpenAI Python client library</Typography></li>\r\n                    <li><Typography variant=\"body1\">Python 3.6 or higher</Typography></li>\r\n                    <li><Typography variant=\"body1\">Discord.py library for Discord bot integration</Typography></li>\r\n                    <li><Typography variant=\"body1\">spaCy for NLP tasks</Typography></li>\r\n                    <li><Typography variant=\"body1\">sklearn for machine learning tasks</Typography></li>\r\n                </ul>\r\n            </Box>\r\n\r\n            {/* Download button */}\r\n        <Tooltip title=\"Download Zip\">\r\n            <IconButton \r\n                onClick={downloadZip} // Implement this function to handle download\r\n                style={buttonStyle}\r\n            >\r\n                <GetAppIcon />\r\n                <Typography variant=\"button\" style={{ marginLeft: '5px' }}>\r\n                    Download Zip\r\n                </Typography>\r\n            </IconButton>\r\n        </Tooltip>\r\n\r\n        {/* core_bot.py button */}\r\n        <Tooltip title={showCode ? \"Hide code\" : \"View core_bot.py\"}>\r\n            <IconButton onClick={toggleCodeVisibility} style={buttonStyle}>\r\n                <CodeIcon />\r\n                <Typography variant=\"button\" style={{ marginLeft: '5px' }}>\r\n                    {showCode ? 'Hide' : 'View'} core_bot.py\r\n                </Typography>\r\n            </IconButton>\r\n        </Tooltip>\r\n        {/* ... existing code display for core_bot.py ... */}\r\n\r\n        {/* discord_real_estate_bot.py button */}\r\n        {/* Implement toggleDiscordBotCodeVisibility and showDiscordBotCode similar to core_bot.py */}\r\n        <Tooltip title={showDiscordBotCode ? \"Hide code\" : \"View discord_real_estate_bot.py\"}>\r\n            <IconButton onClick={toggleDiscordBotCodeVisibility} style={buttonStyle}>\r\n                <CodeIcon />\r\n                <Typography variant=\"button\" style={{ marginLeft: '5px' }}>\r\n                    {showDiscordBotCode ? 'Hide' : 'View'} discord_real_estate_bot.py\r\n                </Typography>\r\n            </IconButton>\r\n        </Tooltip>\r\n        {/* ... Code display for discord_real_estate_bot.py ... */}\r\n\r\n        {/* terminal_bot.py button */}\r\n        {/* Implement toggleTerminalBotCodeVisibility and showTerminalBotCode similar to core_bot.py */}\r\n        <Tooltip title={showTerminalBotCode ? \"Hide code\" : \"View terminal_bot.py\"}>\r\n            <IconButton onClick={toggleTerminalBotCodeVisibility} style={buttonStyle}>\r\n                <CodeIcon />\r\n                <Typography variant=\"button\" style={{ marginLeft: '5px' }}>\r\n                    {showTerminalBotCode ? 'Hide' : 'View'} terminal_bot.py\r\n                </Typography>\r\n            </IconButton>\r\n        </Tooltip>\r\n        {/* ... Code display for terminal_bot.py ... */}\r\n\r\n        {/* readme.txt button */}\r\n        {/* Implement toggleReadmeVisibility and showReadme similar to core_bot.py */}\r\n        <Tooltip title={showReadme ? \"Hide\" : \"View readme.txt\"}>\r\n            <IconButton onClick={toggleReadmeVisibility} style={buttonStyle}>\r\n                <DescriptionIcon />\r\n                <Typography variant=\"button\" style={{ marginLeft: '5px' }}>\r\n                    {showReadme ? 'Hide' : 'View'} readme.txt\r\n                </Typography>\r\n            </IconButton>\r\n        </Tooltip>\r\n        {/* ... Code or content display for readme.txt ... */}\r\n\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default RealEstateBot;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,GAAG,EAAUC,UAAU,EAAEC,QAAQ,QAAQ,eAAe;AACjE,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,SAASC,IAAI,QAAQ,gDAAgD;AACrE,SAASC,UAAU,EAAEC,OAAO,QAAQ,eAAe;AACnD,OAAOC,eAAe,MAAM,iCAAiC;AAC7D,OAAOC,UAAU,MAAM,4BAA4B;AACnD,OAAOC,QAAQ,MAAM,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAIhD,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9B,MAAMY,KAAK,GAAGb,QAAQ,CAAC,CAAC;EAExB,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;;EAE/C;EACA,MAAMmB,oBAAoB,GAAGA,CAAA,KAAM;IAC/BD,WAAW,CAAC,CAACD,QAAQ,CAAC;EAC1B,CAAC;;EAED;EACA,MAAM,CAACG,eAAe,EAAEC,kBAAkB,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;;EAE7D;EACA,MAAM,CAACsB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;;EAEnE;EACA,MAAM,CAACwB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;;EAErE;EACA,MAAM,CAAC0B,UAAU,EAAEC,aAAa,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAM4B,aAAa,GAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;EAEpC,MAAMC,WAAW,GAAG;IAChB,GAAGxB,IAAI;IACPyB,eAAe,EAAE,qBAAqB,CAAE;IACxC;EACJ,CAAC;EAEL,MAAMC,KAAK,GAAG;IACVC,SAAS,EAAE;MACPC,OAAO,EAAEjB,KAAK,CAACkB,OAAO,CAAC,CAAC,CAAC;MACzBC,KAAK,EAAEnB,KAAK,CAACoB,OAAO,CAACC,MAAM,CAACC,KAAK;MACjCR,eAAe,EAAEd,KAAK,CAACoB,OAAO,CAACG,UAAU,CAACC,OAAO;MACjDC,SAAS,EAAE,OAAO;MAClBC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBC,UAAU,EAAE,QAAQ;MACpBC,cAAc,EAAE,QAAQ;MACxBC,QAAQ,EAAE,OAAO;MAAE;MACnBC,UAAU,EAAE,MAAM;MAAE;MACpBC,WAAW,EAAE,MAAM;MACnB,CAAChC,KAAK,CAAC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"},"metadata":{},"sourceType":"module","externalDependencies":[]}